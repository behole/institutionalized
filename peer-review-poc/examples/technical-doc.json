{
  "work": "# Multi-Provider LLM Abstraction\n\n## Overview\n\nThis library provides a unified interface for working with multiple LLM providers (Anthropic, OpenAI, OpenRouter). It allows you to switch between providers seamlessly and track costs across all API calls.\n\n## Architecture\n\nThe system uses a provider abstraction pattern:\n\n```typescript\ninterface LLMProvider {\n  name: string;\n  call(params: LLMCallParams): Promise<LLMResponse>;\n  calculateCost(usage: TokenUsage, model: string): number;\n}\n```\n\nEach provider implements this interface, handling:\n- API authentication\n- Request/response formatting\n- Cost calculation\n- Error handling\n\n## Usage\n\n```typescript\nimport { getProvider } from './providers';\n\nconst provider = getProvider('anthropic');\nconst response = await provider.call({\n  model: 'claude-3-7-sonnet-20250219',\n  messages: [{ role: 'user', content: 'Hello' }]\n});\n```\n\n## Cost Tracking\n\nAll providers calculate costs based on:\n- Input tokens\n- Output tokens\n- Model-specific pricing\n\nExample cost calculation:\n\n```typescript\nconst cost = provider.calculateCost(\n  { inputTokens: 1000, outputTokens: 500 },\n  'claude-3-7-sonnet-20250219'\n);\nconsole.log(`Cost: $${cost.toFixed(4)}`);\n```\n\n## Supported Providers\n\n- **Anthropic**: Claude models (3.5 Sonnet, 3.7 Sonnet)\n- **OpenAI**: GPT-4 and GPT-3.5 models\n- **OpenRouter**: Access to 100+ models\n\n## Configuration\n\nSet environment variables:\n\n```bash\nANTHROPIC_API_KEY=your_key\nOPENAI_API_KEY=your_key\nOPENROUTER_API_KEY=your_key\n```\n\nThe provider auto-detects available keys.",
  "reviewType": "technical",
  "context": [
    "This is technical documentation for an LLM provider abstraction library. The library is used in a multi-agent system where different agents can use different models for cost optimization.",
    "The target audience is developers building LLM applications who need to switch between providers or mix multiple providers in a single application."
  ]
}
